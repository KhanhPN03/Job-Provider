let listJob = [
    { 'id': 1, 'name': 'FPT Software', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 2, 'name': 'FPT Software1', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev2', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 3, 'name': 'FPT Software2', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev3', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 4, 'name': 'FPT Software3', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev4', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 5, 'name': 'FPT Software4', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev5', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 6, 'name': 'FPT Software5', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern De6', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 7, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev7', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 8, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev8', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 9, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev9', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 10, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev10', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 11, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev11', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 12, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev12', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 13, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 14, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 15, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 16, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 17, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 18, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 19, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 20, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 21, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 22, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },
    { 'id': 23, 'name': 'FPT Software6', 'image': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/FTEL_Logo.svg/470px-FTEL_Logo.svg.png', 'jobName': 'Intern Dev', 'jobDesc': 'Hiring fullstack dev' },

]
let array = []
let array_length = 0;
let table_size = 8;
let start_index = 1;
let end_index = 0;
let max_index = 0;
let current_index = 1;
let sortCol = 'rank';
let ascOrder = true;


function preloadCal() {
    array = listJob;
    array_length = array.length;
    max_index = parseInt(array_length / table_size);
    if ((array_length % table_size) > 0) {
        max_index++;
    }
}
function filterTable() {

    let tab_filter_text = $('#tab_filter_text').val();
    if (tab_filter_text != '') {
        let temp_arr = rankList.filter(function (ojb) {
            return ojb.id.toString().includes(tab_filter_text)
                || ojb.name.toUpperCase().includes(tab_filter_text.toUpperCase())
                || ojb.jobName.toString().includes(tab_filter_text)
                || ojb.jobDesc.toString().includes(tab_filter_text)
                ;
        });
        array = temp_arr;
    } else {
        array = listJob;
    }
}
function displayIndexBtn() {
    preloadCal();
    // filterTable();
    $('.index_btn button').remove();
    $('.index_btn').append('<button onclick="prev();">Previous</button>')
    for (let i = 1; i <= max_index; i++) {
        $('.index_btn').append('<button onclick="indexPagina(' + i + ');" index=' + i + '>' + i + '</button>')
    }
    $('.index_btn').append('<button onclick="next();">Next</button>')
    highlightIndexBtn();
}
function highlightIndexBtn() {
    start_index = ((current_index - 1) * table_size) + 1;
    end_index = (start_index + table_size) - 1;
    if (end_index > array_length) {
        end_index = array_length;
    }
    $('.pagina span').text('Showing ' + start_index + ' to ' + end_index + ' of ' + array_length + ' entries');
    $('.index_btn button').removeClass('active');
    $('.index_btn button[index=' + current_index + ']').addClass('active');
    displayAllJob();
}
function displayAllJob() {
    $('.content div').remove();
    let tab_start = start_index - 1;
    let tab_end = end_index;
    for (let i = tab_start; i < tab_end; i++) {
        let job = array[i]

        let newJob = '<div class="content__body__post flex-row">' +
            '<div class="col-2 col-md-2">' +
            '<img class="company-img"' +
            'src = "' + job['image'] + '"' +
            'alt = "" >' +
            '</div >' +
            '<div class="content__body__comp  col-6 col-md-6">' +
            '<h5>' + job['jobName'] + '</h5>' +
            '<p class="d-none d-sm-block">' + job['jobDesc'] + '</p>' +
            '</div>' +
            ' <div class="content__body__action col-4 col-md-4">' +
            '<div class="nav_swift">' +
            '<div class="edit_btn">' +
            '<a class="d-flex d-none d-sm-block">' +
            "<i class='bx bxs-edit-alt'></i> Action</a>" +
            '<i class="content__body__action_m d-sm-block d-lg-none bx bx-menu"></i>' +
            '</div>' +
            '<div class="subnav hide f-right">' +
            '<div class="item ">' +
            ' <ul class="action-item d-sm-block d-lg-flex ">' +
            '<li>' +
            "<a><i class='bx bxs-edit-alt'></i>Close Post</a>" +
            '</li>' +
            ' <li>' +
            " <a><i class='bx bxs-edit-alt'></i>View Log</a>" +
            ' </li>' +
            '<li>' +
            " <a><i class='bx bxs-book-open'></i>View Detail</a>" +
            ' </li>' +
            ' </ul>' +
            '</div>' +
            '</div>' +
            ' </div>' +
            '</div>' +
            '</div>'
            ;
        $('.content').append(newJob);

    }
}
function next() {
    if (current_index < max_index) {
        current_index++;
        highlightIndexBtn();
    }
}
function prev() {
    if (current_index > 1) {
        current_index--;
        highlightIndexBtn();
    }
}
function indexPagina(index) {
    current_index = parseInt(index);
    highlightIndexBtn();
}
$('#table_size').change(function () {
    table_size = parseInt($(this).val());
    current_index = 1;
    start_index = 1;
    displayIndexButtons();
})
$('#tab_filter_btn').click(function () {
    current_index = 1;
    start_index = 1;
    displayIndexButtons();
})
function filterTable() {
    let tab_filter_text = $('#tab_filter_text').val();

    if (tab_filter_text != '') {
        let temp_arr = rankList.filter(function (ojb) {
            return ojb.rank.toString().includes(tab_filter_text)
                || ojb.name.toUpperCase().includes(tab_filter_text.toUpperCase())
                || ojb.year.toString().includes(tab_filter_text)
                || ojb.marks.toString().includes(tab_filter_text)
                || ojb.percen.toString().includes(tab_filter_text)
                ;

        });
        array = temp_arr;
    } else {

        array = rankList;
    }
}

displayIndexBtn()